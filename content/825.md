Title: Wysyłanie maila z Komodo Edit
Date: 2013-11-29 14:11
Author: filipgorczynski
Category: Programowanie
Slug: 825
Status: draft

\#!/usr/bin/python  
\# http://www.pythonforbeginners.com/code-snippets-source-code/using-python-to-send-email/  
\# http://rajivpandit.wordpress.com/2013/09/19/how-to-send-email-by-python/  
\# http://docs.python.org/2/library/email-examples.html

import smtplib

"""The first step is to create an SMTP object, each object is used for connection with one server."""  
server = smtplib.SMTP('smtp.gmail.com', 587)

def sendemail(from\_addr, to\_addr\_list, subject, message, login, password, smtpserver = 'smtp.gmail.com:587'):  
header  = 'From: %s\\n' % from\_addr  
header += 'To: %s\\n' % ',' . join(to\_addr\_list)  
header += 'MIME-Version: 1.0\\n'  
header += 'Content-type: text/html\\n'  
header += 'Subject: %s\\n\\n' % subject  
message = header + message

server = smtplib.SMTP(smtpserver)  
server.starttls()  
server.login(login, password)  
problems = server.sendmail(from\_addr, to\_addr\_list, message)  
server.quit()

\#Send the mail  
message = """  
This is an e-mail message to be sent in HTML format

\<b\>This is HTML message.\</b\>  
\<h1\>This is headline.\</h1\>  
"""

try:  
sendemail("merixtest\@gmail.com", "filip.gorczynski\@gmail.com", 'SMTP HTML e-mail test', message, 'merixtest', 'merix123')  
print "Successfully sent email"  
except TypeError as e:  
print "Error: unable to send email %s" % e
